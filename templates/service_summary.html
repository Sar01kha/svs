{% extends "base.html" %}
{% block title %}Service Summary Report - SVS{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="m-0">Service Summary Report</h2>
  <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('service_list') }}">View Services</a>
</div>

<table class="table table-striped align-middle">
  <thead>
    <tr>
      <th>Service</th>
      <th class="text-end">Price</th>
      <th class="text-end">Times Used</th>
      <th class="text-end">Total Earnings</th>
    </tr>
  </thead>
  <tbody>
    {% for r in rows %}
    <tr>
      <td>{{ r.service_name }}</td>
      <td class="text-end">{{ "%.2f"|format(r.price) }}</td>
      <td class="text-end">{{ r.times_used }}</td>
      <td class="text-end">{{ "%.2f"|format(r.total_earnings or 0) }}</td>
    </tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr class="fw-semibold">
      <td class="text-end">Totals:</td>
      <td></td>
      <td class="text-end">{{ total_count }}</td>
      <td class="text-end">{{ "%.2f"|format(grand_total or 0) }}</td>
    </tr>
  </tfoot>
</table>

{% if not rows %}
  <p class="text-muted">No services found.</p>
{% endif %}
{% endblock %}
